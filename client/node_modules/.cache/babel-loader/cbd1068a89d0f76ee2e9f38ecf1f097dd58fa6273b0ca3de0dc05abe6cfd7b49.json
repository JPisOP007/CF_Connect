{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{toast}from'react-toastify';import{Mail,Lock,Eye,EyeOff,LogIn}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LoginForm=()=>{var _location$state,_location$state$from;const[formData,setFormData]=useState({email:'',password:''});const[showPassword,setShowPassword]=useState(false);const[isSubmitting,setIsSubmitting]=useState(false);const{login,isAuthenticated,error,clearError}=useAuth();const navigate=useNavigate();const location=useLocation();const from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/dashboard';useEffect(()=>{if(isAuthenticated){navigate(from,{replace:true});}},[isAuthenticated,navigate,from]);useEffect(()=>{if(error){toast.error(error);clearError();}},[error,clearError]);const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setIsSubmitting(true);try{await login(formData);toast.success('Login successful!');navigate(from,{replace:true});}catch(error){// Error is handled by context and displayed via toast\n}finally{setIsSubmitting(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"auth-title\",children:\"Welcome Back\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",className:\"form-label\",children:[/*#__PURE__*/_jsx(Mail,{size:16,className:\"inline mr-2\"}),\"Email Address\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,className:\"form-control\",placeholder:\"Enter your email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",className:\"form-label\",children:[/*#__PURE__*/_jsx(Lock,{size:16,className:\"inline mr-2\"}),\"Password\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,className:\"form-control pr-12\",placeholder:\"Enter your password\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\",children:showPassword?/*#__PURE__*/_jsx(EyeOff,{size:20}):/*#__PURE__*/_jsx(Eye,{size:20})})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting,className:\"btn btn-primary w-full btn-lg\",children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner mr-2\"}),\"Signing In...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LogIn,{size:20,className:\"mr-2\"}),\"Sign In\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-link\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Sign up here\"})]})})]})});};export default LoginForm;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useLocation","useAuth","toast","Mail","Lock","Eye","EyeOff","LogIn","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginForm","_location$state","_location$state$from","formData","setFormData","email","password","showPassword","setShowPassword","isSubmitting","setIsSubmitting","login","isAuthenticated","error","clearError","navigate","location","from","state","pathname","replace","handleChange","e","target","name","value","handleSubmit","preventDefault","success","className","children","onSubmit","htmlFor","size","type","id","onChange","placeholder","required","onClick","disabled","to"],"sources":["C:/Users/sjaya/CF_Connect/client/src/components/auth/LoginForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { toast } from 'react-toastify';\r\nimport { Mail, Lock, Eye, EyeOff, LogIn } from 'lucide-react';\r\n\r\nconst LoginForm = () => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const { login, isAuthenticated, error, clearError } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const from = location.state?.from?.pathname || '/dashboard';\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate(from, { replace: true });\r\n    }\r\n  }, [isAuthenticated, navigate, from]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      toast.error(error);\r\n      clearError();\r\n    }\r\n  }, [error, clearError]);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      await login(formData);\r\n      toast.success('Login successful!');\r\n      navigate(from, { replace: true });\r\n    } catch (error) {\r\n      // Error is handled by context and displayed via toast\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-container\">\r\n      <div className=\"auth-card\">\r\n        <h2 className=\"auth-title\">Welcome Back</h2>\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\" className=\"form-label\">\r\n              <Mail size={16} className=\"inline mr-2\" />\r\n              Email Address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              className=\"form-control\"\r\n              placeholder=\"Enter your email\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\" className=\"form-label\">\r\n              <Lock size={16} className=\"inline mr-2\" />\r\n              Password\r\n            </label>\r\n            <div className=\"relative\">\r\n              <input\r\n                type={showPassword ? 'text' : 'password'}\r\n                id=\"password\"\r\n                name=\"password\"\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n                className=\"form-control pr-12\"\r\n                placeholder=\"Enter your password\"\r\n                required\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\r\n              >\r\n                {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting}\r\n            className=\"btn btn-primary w-full btn-lg\"\r\n          >\r\n            {isSubmitting ? (\r\n              <>\r\n                <div className=\"spinner mr-2\"></div>\r\n                Signing In...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <LogIn size={20} className=\"mr-2\" />\r\n                Sign In\r\n              </>\r\n            )}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"auth-link\">\r\n          <p>\r\n            Don't have an account?{' '}\r\n            <Link to=\"/register\">Sign up here</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}